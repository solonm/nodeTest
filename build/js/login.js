var Login=function(){function o(){console.log("typeof Storage",typeof Storage);var o=this;o.username=ko.observable("solon"),o.password=ko.observable("salamina"),o.http=new HTTPRequest;var e="undefined"!=typeof localStorage.UserToken&&null!==localStorage.UserToken;o.IsLoggedIn=ko.observable(e),o.token="",o.socket=io(),o.socket.on("msg",function(o){console.log("message from server ",o)}),o.login=function(){console.log("login"),o.http.callBack=function(e){200==e.Code&&(o.IsLoggedIn(!0),console.log(e),o.token=e.Token,localStorage.UserToken=e.Token,console.log("token",o.token))},o.http.method="POST",o.http.url="/loginUser",o.http.options={username:o.username.peek(),password:o.password.peek()},o.http.makeCall()},o.logout=function(){console.log("logout"),o.http.callBack=function(e){200==e.Code&&(o.IsLoggedIn(!1),console.log(e),localStorage.UserToken=void 0)},o.http.method="POST",o.http.url="/logoutUser",o.http.options={Token:localStorage.UserToken},o.http.makeCall()}}return o}();ko.applyBindings(new Login);